<?php/** * Elementor Widget * @package wphex * @since 1.0.0 */namespace Elementor;class wphex_Product_Search_Widget extends Widget_Base {    /**     * Get widget name.     *     * Retrieve Elementor widget name.     *     * @return string Widget name.     * @since 1.0.0     * @access public     *     */    public function get_name() {        return 'wphex-product-search-widget';    }    /**     * Get widget title.     *     * Retrieve Elementor widget title.     *     * @return string Widget title.     * @since 1.0.0     * @access public     *     */    public function get_title() {        return esc_html__( 'wphex Product Search', 'wphex-master' );    }    /**     * Get widget icon.     *     * Retrieve Elementor widget icon.     *     * @return string Widget icon.     * @since 1.0.0     * @access public     *     */    public function get_icon() {        return 'eicon-wordpress';    }    /**     * Get widget categories.     *     * Retrieve the list of categories the Elementor widget belongs to.     *     * @return array Widget categories.     * @since 1.0.0     * @access public     *     */    public function get_categories() {        return [ 'wordpress' ];    }    /**     * Register Elementor widget controls.     *     * Adds different input fields to allow the user to change and customize the widget settings.     *     * @since 1.0.0     * @access protected     */    protected function _register_controls() {        $this->start_controls_section(            'search_content',            [                'label' => esc_html__( 'Product Search Content', 'wphex-master' ),                'tab'   => Controls_Manager::TAB_CONTENT,            ]        );        $this->end_controls_section();    }    public function reg() {        add_filter( 'get_search_form', [ $this, 'wphex_wp_search' ] );    }    function wphex_wp_search ( $form ) {        $form = '<div class="product_search__right custom-form">                    <form method="get" action="' . esc_url(home_url('/')) . '">                        <div class="single-input">                            <input class="form--control" type="text" placeholder="' . esc_attr__('Product Search', 'text-domain') . '" value="' . get_search_query() . '" name="s">                            <input type="hidden" name="download" value="' . get_search_query() . '" />                            <a href="' . esc_url(home_url('/')) . '" class="' . esc_attr( 'cmn-btn btn-gradient-1 radius-10 search-submit' ) . '">' . esc_html__( 'Search', 'wphex-master' ) . '</a>                         </div>                       </form>                 </div>';        return $form;    }    /**     * Render Elementor widget output on the frontend.     *     * Written in PHP and used to generate the final HTML.     *     * @since 1.0.0     * @access protected     */    protected function render() {        $settings = $this->get_settings_for_display();        $this->reg();        get_search_form();    }}Plugin::instance()->widgets_manager->register_widget_type( new wphex_Product_Search_Widget() );